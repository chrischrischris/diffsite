!function(e){function t(t){for(var i,a,s=t[0],c=t[1],l=t[2],u=0,f=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(d&&d(t);f.length;)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={0:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;r.push([136,2]),n()}({108:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);n(52),n(87),n(63),n(88),n(42),n(90),n(44),n(105),n(107),n(108);var i=n(50),o=n(51),r=[{name:"iPhone 5/SE",width:320,height:568},{name:"Galaxy S5",width:360,height:640},{name:"iPhone 6/7/8",width:375,height:667},{name:"iPhone X/XS",width:375,height:812},{name:"Pixel 2",width:411,height:731},{name:"Pixel 2 XL",width:411,height:823},{name:"iPhone 6/7/8 Plus",width:414,height:736},{name:"iPad",width:768,height:1024},{name:"iPad Pro",width:1024,height:1366}],a="skip",s="embed anyway",c="use proxy to embed URL",l="embed without proxy",d="Checking URL validity ...",u="URL is not valid.",f="Checking iframe compatibility ...",m="Localhost detected. Check your local server settings in case it does not work.",h="Iframe compatibility could not be determined, trying to embed the URL anyway.",g="Mixed content detected, make sure to use only either HTTP or HTTPS for diffsite and the URLs.",p="Iframe compatibility check was skipped.",v="URL does not allow iframe embedding. Using proxy to display page, visual and functional differences may occur.",y="URL does not allow iframe embedding.",w="URL can not be reached.",b=(n(110),n(114),n(115),n(116),n(120),n(30)),E=n.n(b);n(123);function L(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storage=window.localStorage}var t,n,i;return t=e,(n=[{key:"get",value:function(e){return this.storage.getItem(e)}},{key:"set",value:function(e,t){this.storage.setItem(e,t)}},{key:"getJSON",value:function(e){return JSON.parse(this.get(e))}},{key:"setJSON",value:function(e,t){this.set(e,JSON.stringify(t))}}])&&L(t.prototype,n),i&&L(t,i),e}());function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var x={fallbackLeftURL:"./demo_left.html",fallbackRightURL:"./demo_right.html",handleDrag:!1},P={showAboveTheFoldLine:!1,isIframeableAPI:"https://iframe-proxy.glitch.me/is-iframeable/%s",isIframeableAPIEnabled:!0,iframeProxyAPI:"https://iframe-proxy.glitch.me/proxy/%s"},S={},B=function(e,t){return void 0!==t&&(x[e]=t),x[e]},O=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=I.getJSON("settings");t&&(S=Object.assign({},P,t))}var t,n,i;return t=e,(n=[{key:"get",value:function(e){return S[e]}},{key:"set",value:function(e,t){S[e]=t,I.setJSON("settings",S)}}])&&k(t.prototype,n),i&&k(t,i),e}());function R(e,t,n,i,o,r,a){try{var s=e[r](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,o)}var T=function(e,t){return"-"!=e[0]&&(e="--".concat(e)),void 0!==t&&document.documentElement.style.setProperty(e,t),getComputedStyle(document.documentElement).getPropertyValue(e)};function U(e){return-1!=e.indexOf("localhost")||0===e.indexOf("http://localhost")||E()(e)}function C(){var e;return e=regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=O.get("isIframeableAPI").replace("%s",encodeURIComponent(t)),e.next=4,fetch(n);case 4:return i=e.sent,console.log("canEmbed response",i),e.next=8,i.json();case 8:return o=e.sent,e.abrupt("return",o&&void 0!==o.isIframeable?o:{status:0,isIframeable:null});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{status:0,isIframeable:null});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})),(C=function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){R(r,i,o,a,s,"next",e)}function s(e){R(r,i,o,a,s,"throw",e)}a(void 0)}))}).apply(this,arguments)}function j(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var q=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.classes={default:"notification",error:"notification notification--error",info:"notification notification--info",loading:"notification notification--info",warning:"notification notification--warning"},this.types={error:"error",info:"info",loading:"loading",warning:"warning"}}var t,n,i;return t=e,(n=[{key:"set",value:function(e,t,n,i,o){if(t in this.classes){e.className=this.classes[t];var r=null;switch(t){case"info":r="info";break;case"warning":case"error":r="warning"}var a=e.querySelector("i");if(a.innerText=r||"",e.querySelector(".loader").classList.toggle("hidden","loading"!==t),e.querySelector("span").innerText=n,i)e.querySelector("a").innerText=i,e.querySelector("a").addEventListener("click",o);else{var s=e.querySelector("a");s.innerText="";var c=s.cloneNode(!0);s.parentNode.replaceChild(c,s)}}}},{key:"hide",value:function(e){e.className=this.classes.default,e.querySelector(".loader").classList.add("hidden"),e.querySelector("i").innerText="",e.querySelector("span").innerText="",e.querySelector("a").innerText=""}}])&&A(t.prototype,n),i&&A(t,i),e}());n(125),n(128),n(129),n(77),n(133),n(134);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=function(e,t){if("string"!=typeof e&&"string"!=typeof t)throw new Error("We expected a string as HTMLasString and linkRelType we got HTMLasString : ".concat("undefined"==typeof sourceURL?"undefined":M(sourceURL)," linkRelType ").concat(M(t)));var n=(new DOMParser).parseFromString(e,"text/html").documentElement.querySelector('link[rel="'.concat(t,'"'));if(null===n)return!1;var i=n.getAttribute("href");return null!==i&&i},J=function(e,t){return new Promise((function(n,i){return"string"!=typeof e?i(Error("We expected a string as sourceURL we got ".concat(M(e)))):E()(e)?"string"!=typeof t?i(Error("We expected a string as linkRelType we got ".concat(M(t)))):void function(e){return new Promise((function(t,n){fetch("https://cors-anywhere.herokuapp.com/".concat(e),{mode:"cors"}).then((function(i){if(!i.ok)return n(new Error("We received an invalid response when trying to get a CORS free version of ".concat(e)));t(i.text())})).catch((function(e){return n(e)}))}))}(e).then((function(e){var o=N(e,t);if(!o)return i(new Error("We couldn't find a valid alternativeURL"));n(o)})):i(Error("We expected an URL we got ".concat(e)))}))},W=document.getElementById("diff-container"),_=document.getElementById("input-url-left"),D=document.getElementById("input-url-right"),X=document.getElementById("mode-amp-detect"),F=document.getElementById("select-device"),H=document.getElementById("notification-left"),$=document.getElementById("notification-right"),G=document.getElementById("frame-left"),V=document.getElementById("frame-right"),z=document.getElementById("content-left"),K=document.getElementById("content-right"),Q=document.getElementById("shift-left"),Y=document.getElementById("shift-right"),Z=document.getElementById("compare-handle"),ee=document.getElementById("group-overlay"),te=document.getElementById("group-opacity"),ne=new i(".shift-section",{wrap:!0,marginTop:200}),ie=new i(".config-section",{wrap:!0,marginTop:0,stickyClass:"config-section--sticky"});function oe(){B("handleDrag",!1),window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",oe)}function re(e){if(!B("handleDrag"))return!1;e=e||window.event;var t=G.getBoundingClientRect(),n=e.pageX-t.left-window.pageXOffset;n=Math.max(0,n),n=Math.min(T("diff-site-width"),n),T("swipe-handle-position",n)}Z.addEventListener("mousedown",(function(e){e.preventDefault(),B("handleDrag",!0),window.addEventListener("mousemove",re),window.addEventListener("mouseup",oe)}));var ae=function(){var e=encodeURIComponent(_.value),t=encodeURIComponent(D.value),n=e.length>0&&t.length>0?"?url1=".concat(e,"&url2=").concat(t):"";window.history.pushState({},document.title,"".concat(location.protocol,"//").concat(location.host).concat(location.pathname).concat(n))},se=function(e,t,n,i){var o=e.target.value.trim();if(0===o.length)return n.src=i,ae(),void q.hide(t);if(q.set(t,q.types.loading,d),U(o=function(e){return e?(0!=e.indexOf("http")&&(e="https://"+e),e):e}(o))){e.target.value=o;var r=null;new Promise((function(e,n){r=e,-1!==o.indexOf("localhost")?(q.set(t,q.types.info,m),e({isIframeable:!0})):O.get("isIframeableAPIEnabled")?function(e){return C.apply(this,arguments)}(o).then(e):e({isIframeable:!0})})).then((function(e){var i=function(){n.src=o,ae()},r=function(){n.src=function(e){return O.get("iframeProxyAPI").replace("%s",encodeURIComponent(e))}(o),ae()};switch(e.isIframeable){case!1:q.set(t,q.types.error,y,c,(function(){q.set(t,q.types.warning,v,l,(function(){q.set(t,q.types.warning,p),i()})),r()}));break;case null:400===e.status?q.set(t,q.types.error,w,s,(function(){q.set(t,q.types.warning,p,c,(function(){q.set(t,q.types.warning,v),r()})),i()})):(999===e.status?q.set(t,q.types.warning,p,c,(function(){q.set(t,q.types.warning,v),r()})):q.set(t,q.types.info,h,c,(function(){q.set(t,q.types.warning,v),r()})),i());break;case!0:-1!==o.indexOf("localhost")||(1==(0===location.href.indexOf("https")^0===o.indexOf("https"))?q.set(t,q.types.warning,g):q.hide(t)),i()}})),q.set(t,q.types.loading,f,a,(function(){r({status:999,isIframeable:null})}))}else q.set(t,q.types.info,u)};_.addEventListener("input",Object(o.debounce)((function(e){se(e,H,z,B("fallbackLeftURL"))}),700)),D.addEventListener("input",Object(o.debounce)((function(e){se(e,$,K,B("fallbackRightURL"))}),700)),X.addEventListener("click",(function(){var e=this;if(this.classList.toggle("mode-switch--amp")&&(U(_.value)||U(D.value))){var t=U(_.value)?_.value:D.value,n=U(_.value)?D:_;J(t,"amp-html").then((function(t){n.value=t,n.dispatchEvent(new Event("input")),e.classList.remove("mode-switch--amp")})).catch((function(e){return J(t,"canonical")})).then((function(t){n.value=t,n.dispatchEvent(new Event("input")),e.classList.remove("mode-switch--amp")})).catch((function(t){e.classList.remove("mode-switch--amp"),alert("AMP or canonical pendant was not found.")}))}})),document.getElementById("toggle-dark-mode").addEventListener("click",(function(){document.body.classList.toggle("theme-dark")}));var ce=document.getElementById("settings-above-the-fold"),le=document.getElementById("settings-iframeability-check");for(document.getElementById("settings-toggle").addEventListener("click",(function(e){e.target.classList.toggle("link-button--shade"),document.getElementById("settings-container").classList.toggle("settings-container--active")})),ce.addEventListener("change",(function(e){var t=e.target.checked;document.getElementsByClassName("device-height-line").forEach((function(e){return e.classList.toggle("hidden",!t)})),O.set("showAboveTheFoldLine",t)})),le.addEventListener("change",(function(e){var t=e.target.checked;O.set("isIframeableAPIEnabled",t)})),ce.checked=!O.get("showAboveTheFoldLine"),ce.click(),le.checked=O.get("isIframeableAPIEnabled"),document.getElementById("mode-side-by-side").addEventListener("click",(function(){W.classList.remove("diff-container--mode-overlay"),ee.classList.add("disabled"),te.classList.add("disabled"),ie.update()})),document.getElementById("mode-overlay").addEventListener("click",(function(){W.classList.add("diff-container--mode-overlay"),ee.classList.remove("disabled"),W.classList.contains("diff-container--mode-swipe")||(te.classList.remove("disabled"),ie.update())})),document.getElementById("mode-swipe").addEventListener("click",(function(){W.classList.add("diff-container--mode-swipe"),V.classList.remove("diff-frame--mode-blend"),te.classList.add("disabled")})),document.getElementById("mode-blend").addEventListener("click",(function(){V.classList.add("diff-frame--mode-blend"),W.classList.remove("diff-container--mode-swipe"),te.classList.remove("disabled")})),document.getElementById("mode-onion").addEventListener("click",(function(){V.classList.remove("diff-frame--mode-blend"),W.classList.remove("diff-container--mode-swipe"),te.classList.remove("disabled")})),F.options.length=0;F.firstChild;)F.removeChild(F.firstChild);for(var de=0;de<r.length;de++)F.options[F.options.length]=new Option(r[de].name,de,"iPhone 6/7/8"===r[de].name,"iPhone 6/7/8"===r[de].name);F.addEventListener("change",(function(e){var t=e.target.value;T("diff-site-width",r[t].width),T("diff-site-device-height",r[t].height),ne.update()})),document.getElementById("select-opacity").addEventListener("input",(function(e){T("diff-site-opacity-right",e.target.value)}));var ue=function(e,t){e.value=T(t)};document.getElementById("button-shift-up-left").addEventListener("click",(function(){T("diff-site-shift-left",parseInt(T("diff-site-shift-left"),10)-1),ue(Q,"diff-site-shift-left")})),document.getElementById("button-shift-down-left").addEventListener("click",(function(){T("diff-site-shift-left",parseInt(T("diff-site-shift-left"),10)+1),ue(Q,"diff-site-shift-left")})),Q.addEventListener("input",(function(){T("diff-site-shift-left",parseInt(Q.value)||0)})),document.getElementById("button-shift-up-right").addEventListener("click",(function(){T("diff-site-shift-right",parseInt(T("diff-site-shift-right"),10)-1),ue(Y,"diff-site-shift-right")})),document.getElementById("button-shift-down-right").addEventListener("click",(function(){T("diff-site-shift-right",parseInt(T("diff-site-shift-right"),10)+1),ue(Y,"diff-site-shift-right")})),Y.addEventListener("input",(function(){T("diff-site-shift-right",parseInt(Y.value)||0)})),window.addEventListener("load",(function(){var e=j("url1"),t=j("url2");e&&(_.value=e),t&&(D.value=t),j("getamp")&&X.click(),_.dispatchEvent(new Event("input")),D.dispatchEvent(new Event("input")),document.getElementById("version").innerText="1.7.0","serviceWorker"in navigator&&navigator.serviceWorker.register("./service-worker.js")}))}});
//# sourceMappingURL=app.34e30612.js.map